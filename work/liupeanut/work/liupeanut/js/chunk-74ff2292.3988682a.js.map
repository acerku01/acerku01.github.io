{"version":3,"sources":["webpack:///./src/views/UserNews.vue","webpack:///./src/views/UserNews.vue?9da5","webpack:///./src/assets/img/clock.svg","webpack:///./src/components/pagesBanner.vue?9853","webpack:///./src/components/pagesBanner.vue?74e9","webpack:///./src/components/pagesBanner.vue"],"names":["class","itemscope","itemtype","id","itemprop","_createElementVNode","content","ref","src","_imports_0","alt","_hoisted_24","_hoisted_25","_createVNode","_component_loading","active","$data","_component_pagesBanner","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_router_link","to","title","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_createElementBlock","_Fragment","$options","item","index","key","_hoisted_15","_hoisted_16","image","_hoisted_18","_hoisted_19","description","_hoisted_21","_hoisted_22","_ctx","date","create_at","length","_hoisted_23","components","pagesBanner","data","articles","isLoading","windowWidth","window","innerWidth","commentsToShow","showNum","totalComments","bottom","created","addEventListener","this","bottomVisible","getData","watch","newValue","showMore","methods","page","api","$http","get","then","res","success","gsap","from","scrollTrigger","duration","y","opacity","stagger","onResize","scrollY","visible","document","documentElement","clientHeight","pageHeight","scrollHeight","bottomOfPage","computed","companiesLoaded","slice","mounted","$nextTick","beforeUnmount","removeEventListener","__exports__","render","module","exports","_cache","$props","$setup","style","slide","photo","name","depth","$refs","parallax","dataset","movement","offsetHeight","ease","trigger","start","scrub","vm","url","response","forEach","type","$route","simpleScrollTrigger"],"mappings":"uKAGWA,MAAM,gD,GACRA,MAAM,yC,GACJA,MAAM,6B,GAEPC,UAAU,GACVC,SAAS,mCACTC,GAAG,e,GAGDC,SAAS,kBACTH,UAAU,GACVC,SAAS,8B,EAGPG,eAA+B,QAAzBD,SAAS,QAAO,MAAE,G,EAE1BC,eAAwC,QAAlCD,SAAS,WAAWE,QAAQ,K,YAGlCF,SAAS,kBACTH,UAAU,GACVC,SAAS,8B,EAETG,eAA2B,QAArBL,MAAM,QAAO,KAAC,G,EAElBK,eAAiC,QAA3BD,SAAS,QAAO,QAAI,G,EAE5BC,eAAwC,QAAlCD,SAAS,WAAWE,QAAQ,K,YAInCN,MAAM,yD,EACTK,eAEM,OAFDL,MAAM,4BAA0B,CACnCK,eAA0B,MAAtBL,MAAM,QAAO,UAAI,G,GAElBA,MAAM,sBAAsBO,IAAI,Y,GAG1BP,MAAM,sB,GACJA,MAAM,Y,mBAGNA,MAAM,c,GAGNA,MAAM,a,EAETK,eAAiB,YAAX,QAAI,G,GAEPL,MAAM,Q,EACTK,eAAwD,OAAnDG,IAAAC,IAA6BC,IAAI,GAAGV,MAAM,Q,kBAMpDG,GAAG,cAAcH,MAAM,2B,EAC1BK,eAAoC,OAA/BL,MAAM,oBAAkB,S,EAC7BK,eAA2B,QAArBL,MAAM,SAAO,S,GADnBW,EACAC,G,8KA5DRC,eAAuCC,GAA7BC,OAAQC,aAAS,mBAC3BH,eAA2BI,GAC3BZ,eA8DU,UA9DVa,EA8DU,CA7DRb,eA4DM,MA5DNc,EA4DM,CA3DJd,eA4BM,MA5BNe,EA4BM,CA3BJf,eA0BK,KA1BLgB,EA0BK,CArBHhB,eASK,KATLiB,EASK,CAJHT,eAEcU,GAFDC,GAAG,SAASpB,SAAS,OAAOqB,MAAM,Q,yBAC7C,IAA+B,CAA/BC,I,MAEFC,IAEFtB,eAUK,KAVLuB,EAUK,CALHC,EACAhB,eAEcU,GAFDC,GAAG,QAAQpB,SAAS,OAAOqB,MAAM,Q,yBAC5C,IAAiC,CAAjCK,I,MAEFC,QAIN1B,eA6BM,MA7BN2B,EA6BM,CA5BJC,EAGA5B,eAoBM,MApBN6B,EAoBM,qBAnBJC,eAkBMC,2BAlBwEC,kBAAe,CAA/BC,EAAMC,K,iBAApEJ,eAkBM,OAlBDnC,MAAM,2CAAqFwC,IAAKD,G,CACnG1B,eAgBcU,GAhBAC,GAAE,SAAWc,EAAKnC,I,yBAC9B,IAcM,CAdNE,eAcM,MAdNoC,EAcM,CAbJpC,eAEM,MAFNqC,EAEM,CADJrC,eAAyD,OAAnDG,IAAK8B,EAAKK,MAAQjC,IAAK4B,EAAKb,MAAOzB,MAAM,S,YAEjDK,eAEM,MAFNuC,EAEM,eADFN,EAAKb,OAAK,GAEdpB,eAGM,MAHNwC,EAGM,+BAFFP,EAAKQ,aAAa,OACpB,OAEFzC,eAEM,MAFN0C,EAEM,CADJC,EAAwD,8BAAGC,WAASC,KAAKZ,EAAKa,YAAS,S,kCAMrCnC,iBAAiBA,WAASoC,QAAUpC,WAASoC,OAASpC,kBAAc,iBAAhImB,eAGM,MAHNkB,EAGM,qC,gBAOC,GACbC,WAAY,CACVC,oBAEFC,OACE,MAAO,CACLC,SAAU,GACVC,WAAW,EACXC,YAAaC,OAAOC,WACpBC,eAAgB,EAChBC,QAAS,EACTC,cAAe,EACfC,QAAQ,IAGZC,UACEN,OAAOO,iBAAiB,SAAU,KAChCC,KAAKH,OAASG,KAAKC,kBAErBD,KAAKE,WAEPC,MAAO,CACLZ,cACMS,KAAKT,aAAe,IACtBS,KAAKL,QAAU,EAEfK,KAAKL,QAAU,GAGnBE,OAAQO,GACFA,EAAWJ,KAAKN,eAAiBM,KAAKJ,eACxCI,KAAKK,aAIXC,QAAS,CACPJ,QAASK,EAAO,GACdP,KAAKV,WAAY,EACjB,MAAMkB,EAAO,sEAA0ED,EACvFP,KAAKS,MAAMC,IAAIF,GACZG,KAAMC,IACLZ,KAAKV,WAAY,EACbsB,EAAIxB,KAAKyB,UACXb,KAAKX,SAAWuB,EAAIxB,KAAKC,SACzBW,KAAKJ,cAAgBgB,EAAIxB,KAAKC,SAASL,UAG1C2B,KAAK,KACJX,KAAKc,KAAKC,KAAK,QAAS,CACtBC,cAAe,aACfC,SAAU,KACVC,EAAG,GACHC,QAAS,EACTC,QAAS,QAIjBC,WACErB,KAAKT,YAAcC,OAAOC,YAE5BY,WACML,KAAKN,eAAiBM,KAAKX,SAASL,SACxCgB,KAAKN,eAAiBM,KAAKN,eAAiBM,KAAKL,UAEnDM,gBACE,MAAMqB,EAAU9B,OAAO8B,QACjBC,EAAUC,SAASC,gBAAgBC,aACnCC,EAAaH,SAASC,gBAAgBG,aACtCC,EAAeN,EAAUD,GAAWK,EAC1C,OAAOE,GAAgBF,EAAaJ,IAGxCO,SAAU,CACRC,kBACE,OAAO/B,KAAKX,SAAS2C,MAAM,EAAGhC,KAAKN,kBAGvCuC,UACMjC,KAAKT,aAAe,KACtBS,KAAKL,QAAU,EACfK,KAAKN,eAAiB,IAEtBM,KAAKL,QAAU,EACfK,KAAKN,eAAiB,GAExBM,KAAKkC,UAAU,KACb1C,OAAOO,iBAAiB,SAAUC,KAAKqB,YAEzCrB,KAAKJ,cAAgBI,KAAKX,SAASL,QAErCmD,gBACE3C,OAAO4C,oBAAoB,SAAUpC,KAAKqB,Y,qBC3J9C,MAAMgB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,gB,uBCPfC,EAAOC,QAAU,IAA0B,yC,kDCC3C,MAAM1F,EAAa,CACjBlB,MAAO,iCAEHmB,EAAa,CACjBnB,MAAO,+CAEHoB,EAAa,CACjBpB,MAAO,qCAEHqB,EAAa,CACjBmB,IAAK,EACLxC,MAAO,2BAEHsB,EAAa,CACjBtB,MAAO,kBAEF,SAAS0G,EAAOzD,EAAM4D,EAAQC,EAAQC,EAAQ/F,EAAOqB,GAC1D,OAAO,iBAAc,eAAoB,UAAWnB,EAAY,CAAC,eAAoB,MAAO,CAC1FlB,MAAO,mBACP,aAAc,OACdgH,MAAO,eAAgB,8BAA8BhG,EAAMiG,MAAMC,UACjE3G,IAAK,YACJ,KAAM,GAAI,eAAoB,MAAOY,EAAY,CAAC,eAAoB,MAAOC,EAAY,CAACJ,EAAMiG,OAAS,iBAAc,eAAoB,MAAO5F,EAAY,CAAC,eAAoB,KAAMC,EAAY,KAAO,eAAiBN,EAAMiG,MAAME,MAAQ,KAAM,MAAQ,eAAoB,IAAI,SCvB7Q,OACb,OACE,MAAO,CACLF,MAAO,KAGXvC,QAAS,CACP,sBACE,MAAM0C,EAAQhD,KAAKiD,MAAMC,SAASC,QAAQH,MACpCI,GAAapD,KAAKiD,MAAMC,SAASG,aAAeL,EACtDhD,KAAKc,KAAK1D,GAAG,YAAa,CACxB8D,EAAGkC,EACHE,KAAM,OACNtC,cAAe,CACbuC,QAAS,OACTC,MAAO,MACPC,MAAO,KAGXzD,KAAKc,KAAKC,KAAK,OAAQ,CACrBG,EAAG,GACHC,QAAS,EACTF,SAAU,IACVD,cAAe,CACbuC,QAAS,OACTC,MAAO,eAKf,UACE,MAAME,EAAK1D,KACL2D,EAAM,yBACZ3D,KAAKS,MAAMC,IAAIiD,GAAKhD,KAAKiD,IACvBF,EAAGb,MAAQe,EAASxE,KACpBsE,EAAGb,MAAMgB,SAAQ,SAAU3F,GACrBA,EAAK4F,OAASJ,EAAGK,OAAOhB,OAC1BW,EAAGb,MAAQ3E,MAIf8B,KAAKgE,0B,qBCpCX,MAAM3B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"work/liupeanut/js/chunk-74ff2292.3988682a.js","sourcesContent":["<template>\r\n  <loading :active=\"isLoading\"></loading>\r\n  <pagesBanner></pagesBanner>\r\n  <section class=\"news pages position-relative overflow-hidden\">\r\n    <div class=\"container position-relative z-index-1\">\r\n      <div class=\"bread-crumbs py-3 px-lg-5\">\r\n        <ol\r\n          itemscope=\"\"\r\n          itemtype=\"http://schema.org/breadcrumbList\"\r\n          id=\"breadcrumbs\"\r\n        >\r\n          <li\r\n            itemprop=\"itemListElement\"\r\n            itemscope=\"\"\r\n            itemtype=\"http://schema.org/ListItem\"\r\n          >\r\n            <router-link to=\"/index\" itemprop=\"item\" title=\"劉記花生\">\r\n              <span itemprop=\"name\">首頁</span>\r\n            </router-link>\r\n            <meta itemprop=\"position\" content=\"1\" />\r\n          </li>\r\n          <li\r\n            itemprop=\"itemListElement\"\r\n            itemscope=\"\"\r\n            itemtype=\"http://schema.org/ListItem\"\r\n          >\r\n            <span class=\"mx-2\">/</span>\r\n            <router-link to=\"/news\" itemprop=\"item\" title=\"最新消息\">\r\n              <span itemprop=\"name\">最新消息</span>\r\n            </router-link>\r\n            <meta itemprop=\"position\" content=\"2\" />\r\n          </li>\r\n        </ol>\r\n      </div>\r\n      <div class=\"main-box bg-white px-lg-5 px-4 pt-lg-5 pt-4 pb-3 mb-4\">\r\n        <div class=\"text-center mb-lg-5 mb-3\">\r\n          <h2 class=\"c_h2\">最新消息</h2>\r\n        </div>\r\n        <div class=\"row news-list mx-n2\" ref=\"newsItem\">\r\n          <div class=\"col-lg-4 col-sm-6 mb-lg-5 mb-4 px-2 item\" v-for=\"(item, index) in companiesLoaded\" :key=\"index\">\r\n            <router-link :to=\"`/news/${item.id}`\">\r\n              <div class=\"inner bg-white p-4\">\r\n                <div class=\"img mb-3\">\r\n                  <img :src=\"item.image\" :alt=\"item.title\" class=\"w-100\" />\r\n                </div>\r\n                <div class=\"title mb-2\">\r\n                  {{item.title}}\r\n                </div>\r\n                <div class=\"info mb-2\">\r\n                  {{item.description}}...\r\n                  <span>閱讀更多</span>\r\n                </div>\r\n                <div class=\"date\">\r\n                  <img src=\"@/assets/img/clock.svg\" alt=\"\" class=\"me-2\" />{{ $filters.date(item.create_at)}}\r\n                </div>\r\n              </div>\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n        <div id=\"gallery-btn\" class=\"text-center col-12 mb-5\" v-if=\"commentsToShow < articles.length || articles.length > commentsToShow\">\r\n          <div class=\"scroll_line mb-3\"></div>\r\n          <span class=\"mouse\"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n<script>\r\nimport pagesBanner from '../components/pagesBanner.vue'\r\nexport default {\r\n  components: {\r\n    pagesBanner\r\n  },\r\n  data () {\r\n    return {\r\n      articles: [],\r\n      isLoading: false,\r\n      windowWidth: window.innerWidth,\r\n      commentsToShow: 3,\r\n      showNum: 3,\r\n      totalComments: 0,\r\n      bottom: false\r\n    }\r\n  },\r\n  created () {\r\n    window.addEventListener('scroll', () => {\r\n      this.bottom = this.bottomVisible()\r\n    })\r\n    this.getData()\r\n  },\r\n  watch: {\r\n    windowWidth () {\r\n      if (this.windowWidth <= 991) {\r\n        this.showNum = 4\r\n      } else {\r\n        this.showNum = 3\r\n      }\r\n    },\r\n    bottom (newValue) {\r\n      if (newValue & this.commentsToShow < this.totalComments) {\r\n        this.showMore()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getData (page = 1) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/articles?page=${page}`\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            this.articles = res.data.articles\r\n            this.totalComments = res.data.articles.length\r\n          }\r\n        })\r\n        .then(() => {\r\n          this.gsap.from('.item', {\r\n            scrollTrigger: '.news-list',\r\n            duration: 1.15,\r\n            y: 50,\r\n            opacity: 0,\r\n            stagger: 0.3\r\n          })\r\n        })\r\n    },\r\n    onResize () {\r\n      this.windowWidth = window.innerWidth\r\n    },\r\n    showMore () {\r\n      if (this.commentsToShow > this.articles.length) return\r\n      this.commentsToShow = this.commentsToShow + this.showNum\r\n    },\r\n    bottomVisible () {\r\n      const scrollY = window.scrollY\r\n      const visible = document.documentElement.clientHeight\r\n      const pageHeight = document.documentElement.scrollHeight\r\n      const bottomOfPage = visible + scrollY >= pageHeight\r\n      return bottomOfPage || pageHeight < visible\r\n    }\r\n  },\r\n  computed: {\r\n    companiesLoaded () {\r\n      return this.articles.slice(0, this.commentsToShow)\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.windowWidth <= 991) {\r\n      this.showNum = 4\r\n      this.commentsToShow = 4\r\n    } else {\r\n      this.showNum = 3\r\n      this.commentsToShow = 3\r\n    }\r\n    this.$nextTick(() => {\r\n      window.addEventListener('resize', this.onResize)\r\n    })\r\n    this.totalComments = this.articles.length\r\n  },\r\n  beforeUnmount () {\r\n    window.removeEventListener('resize', this.onResize)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserNews.vue?vue&type=template&id=032ab70b\"\nimport script from \"./UserNews.vue?vue&type=script&lang=js\"\nexport * from \"./UserNews.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\acerk\\\\Desktop\\\\Vue3_Project\\\\shopping\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"work/liupeanut/img/clock.1f5b797d.svg\";","import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"banner_page position-relative\"\n};\nconst _hoisted_2 = {\n  class: \"container h-100 position-relative z-index-1\"\n};\nconst _hoisted_3 = {\n  class: \"row h-100 mx-0 align-items-center\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"overflow-hidden px-lg-5\"\n};\nconst _hoisted_5 = {\n  class: \"page-title box\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: \"top_img parallax\",\n    \"data-depth\": \"0.40\",\n    style: _normalizeStyle(`background-image: url(/img/${$data.slide.photo})`),\n    ref: \"parallax\"\n  }, null, 4), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [$data.slide ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"h2\", _hoisted_5, \"【 \" + _toDisplayString($data.slide.name) + \" 】\", 1)])) : _createCommentVNode(\"\", true)])])]);\n}","export default {\n  data() {\n    return {\n      slide: {}\n    };\n  },\n  methods: {\n    simpleScrollTrigger() {\n      const depth = this.$refs.parallax.dataset.depth;\n      const movement = -(this.$refs.parallax.offsetHeight * depth);\n      this.gsap.to('.parallax', {\n        y: movement,\n        ease: 'none',\n        scrollTrigger: {\n          trigger: 'body',\n          start: 'top',\n          scrub: 1\n        }\n      });\n      this.gsap.from('.box', {\n        y: 50,\n        opacity: 0,\n        duration: 1.5,\n        scrollTrigger: {\n          trigger: '.box',\n          start: 'top 90%'\n        }\n      });\n    }\n  },\n  mounted() {\n    const vm = this;\n    const url = '/json/pagesBanner.json';\n    this.$http.get(url).then(response => {\n      vm.slide = response.data;\n      vm.slide.forEach(function (item) {\n        if (item.type === vm.$route.name) {\n          vm.slide = item;\n        }\n      });\n      // this.ScrollTrigger.refresh()\n      this.simpleScrollTrigger();\n    });\n  }\n};","import { render } from \"./pagesBanner.vue?vue&type=template&id=22773802\"\nimport script from \"./pagesBanner.vue?vue&type=script&lang=js\"\nexport * from \"./pagesBanner.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\acerk\\\\Desktop\\\\Vue3_Project\\\\shopping\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}