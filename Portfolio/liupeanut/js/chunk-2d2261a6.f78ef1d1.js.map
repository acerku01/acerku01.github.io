{"version":3,"sources":["webpack:///./src/views/Products.vue","webpack:///./src/components/ProductsModal.vue","webpack:///./src/components/ProductsModal.vue?b522","webpack:///./src/views/Products.vue?b2a7"],"names":["class","_createElementVNode","width","_createVNode","_component_loading","active","$data","_hoisted_1","type","onClick","$options","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","item","key","id","category","title","_hoisted_4","_ctx","currency","origin_price","_hoisted_5","price","is_enabled","_hoisted_6","_hoisted_7","_hoisted_8","_component_ProductsModal","ref","product","onUpdateProduct","_component_DeleteModal","onDelItem","_component_Pagination","pages","onChangPage","tabindex","aria-labelledby","aria-hidden","role","data-bs-dismiss","aria-label","for","_hoisted_18","_hoisted_9","placeholder","imageUrl","_hoisted_10","_hoisted_11","onChange","src","alt","imagesUrl","_hoisted_14","image","_hoisted_15","href","splice","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","unit","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","description","_hoisted_38","_hoisted_39","content","_hoisted_40","_hoisted_41","true-value","false-value","_hoisted_42","_hoisted_43","_hoisted_44","props","Object","default","mixins","modalMixin","data","modal","tempProduct","watch","this","methods","uploadFile","$refs","fileInput","files","formData","FormData","append","api","$http","post","then","res","console","log","success","uploadMore","fileMore","push","__exports__","components","ProductsModal","DeleteModal","Pagination","products","pagination","isNew","isLoading","inject","getProducts","page","get","openModal","showModal","updateProduct","httpMethods","methodsTxt","hideModal","$httpMessage","openDeleteModal","deleteProduct","delete","changPage","created","render"],"mappings":"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","file":"js/chunk-2d2261a6.f78ef1d1.js","sourcesContent":["<template>\r\n  <loading :active=\"isLoading\"></loading>\r\n  <div>\r\n    <div class=\"d-flex justify-content-end pt-4\">\r\n      <button class=\"btn btn-primary\" type=\"button\" @click.prevent=\"openModal(true)\">新增產品</button>\r\n    </div>\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr>\r\n          <th width=\"120\">分類</th>\r\n          <th>產品名稱</th>\r\n          <th width=\"120\">原價</th>\r\n          <th width=\"120\">售價</th>\r\n          <th width=\"100\">是否啟用</th>\r\n          <th width=\"200\">編輯</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in products\" :key=\"item.id\">\r\n          <td>{{ item.category }}</td>\r\n          <td>{{ item.title}}</td>\r\n          <td class=\"text-right\">{{ $filters.currency(item.origin_price) }}</td>\r\n          <td class=\"text-right\">{{ $filters.currency(item.price) }}</td>\r\n          <td>\r\n            <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\r\n            <span class=\"text-muted\" v-else>未啟用</span>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group\">\r\n              <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false, item)\">編輯</button>\r\n              <button class=\"btn btn-outline-danger btn-sm\" @click=\"openDeleteModal(item)\">刪除</button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <ProductsModal ref=\"ProductsModal\"\r\n      :product=\"tempProduct\"\r\n      @update-product=\"updateProduct\">\r\n    </ProductsModal>\r\n    <DeleteModal ref=\"DeleteModal\"\r\n      :item=\"tempProduct\"\r\n      @del-item=\"deleteProduct\">\r\n    </DeleteModal>\r\n    <Pagination :pages=\"pagination\" @chang-page=\"changPage\"></Pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ProductsModal from '../components/ProductsModal.vue'\r\nimport DeleteModal from '../components/DelModal.vue'\r\nimport Pagination from '../components/Pagination.vue'\r\n\r\nexport default {\r\n  components: {\r\n    ProductsModal,\r\n    DeleteModal,\r\n    Pagination\r\n  },\r\n  data () {\r\n    return {\r\n      products: [],\r\n      pagination: {},\r\n      tempProduct: {},\r\n      isNew: false,\r\n      isLoading: false\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`\r\n      this.$http.get(api).then((res) => {\r\n        this.isLoading = false\r\n        if (res.data.success) {\r\n          this.products = res.data.products\r\n          this.pagination = res.data.pagination\r\n        }\r\n      })\r\n    },\r\n    openModal (isNew, item) {\r\n      this.$refs.ProductsModal.showModal()\r\n      if (isNew) {\r\n        this.tempProduct = {}\r\n      } else {\r\n        this.tempProduct = { ...item }\r\n      }\r\n      this.isNew = isNew\r\n    },\r\n    updateProduct (item) {\r\n      this.tempProduct = item\r\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let httpMethods = 'post'\r\n      let methodsTxt = '新增'\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\r\n        httpMethods = 'put'\r\n        methodsTxt = '修改'\r\n      }\r\n      this.$http[httpMethods](api, { data: this.tempProduct }).then((res) => {\r\n        this.tempProduct = {}\r\n        this.$refs.ProductsModal.hideModal()\r\n        if (res.data.success) {\r\n          this.getProducts()\r\n          this.$httpMessage(res, methodsTxt)\r\n        } else {\r\n          this.$httpMessage(res, methodsTxt)\r\n        }\r\n      })\r\n    },\r\n    openDeleteModal (item) {\r\n      this.tempProduct = { ...item }\r\n      this.$refs.DeleteModal.showModal()\r\n    },\r\n    deleteProduct () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n      this.$http.delete(api).then((res) => {\r\n        if (res.data.success) {\r\n          this.$refs.DeleteModal.hideModal()\r\n          this.getProducts()\r\n          this.$httpMessage(res, '刪除產品')\r\n        } else {\r\n          this.$refs.DeleteModal.hideModal()\r\n          this.$httpMessage(res, '刪除產品')\r\n        }\r\n      })\r\n    },\r\n    changPage (page) {\r\n      this.getProducts(page)\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"exampleModal\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n  <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n    <div class=\"modal-content border-0\">\r\n      <div class=\"modal-header bg-dark text-white\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n          <span>產品資訊</span>\r\n        </h5>\r\n        <button type=\"button\" class=\"btn-close\"\r\n                data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-4\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"image\"\r\n                      placeholder=\"請輸入圖片連結\" v-model=\"tempProduct.imageUrl\">\r\n            </div>\r\n            <div class=\"mb-3\">\r\n                <label for=\"customFile\" class=\"form-label\"\r\n                  >或 上傳圖片\r\n                  <div class=\"spinner-border text-secondary\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"customFile\"\r\n                  class=\"form-control\"\r\n                  ref=\"fileInput\"\r\n                  @change=\"uploadFile\"\r\n                />\r\n              </div>\r\n              <img class=\"img-fluid mb-3\" :src=\"tempProduct.imageUrl\" alt=\"\" />\r\n              <!-- 延伸技巧，多圖 -->\r\n              <div v-if=\"tempProduct.imagesUrl\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-lg-3 col-6 mb-2\" v-for=\"(image, key) in tempProduct.imagesUrl\" :key=\"key\">\r\n                    <div class=\"img position-relative\">\r\n                      <img class=\"img-fluid\" :src=\"tempProduct.imagesUrl[key]\" alt=\"\" />\r\n                      <a href=\"#\" class=\"delete_img\" @click.prevent=\"tempProduct.imagesUrl.splice(key, 1)\"><i class=\"bi bi-trash3\"></i></a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"d-flex upload_btn\">\r\n                  <label class=\"button\" for=\"fileMore\">\r\n                    <i class=\"bi bi-card-image mb-2\"></i>\r\n                    <div>上傳其他照片<br>(最多5張)</div>\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"fileMore\"\r\n                    class=\"form-control\"\r\n                    ref=\"fileMore\"\r\n                    @change=\"uploadMore(key)\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          <div class=\"col-sm-8\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"title\" class=\"form-label\">標題</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"title\"\r\n                      placeholder=\"請輸入標題\" v-model=\"tempProduct.title\">\r\n            </div>\r\n\r\n            <div class=\"row gx-2\">\r\n              <div class=\"mb-3 col-md-6\">\r\n                <label for=\"category\" class=\"form-label\">分類</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"category\"\r\n                        placeholder=\"請輸入分類\" v-model=\"tempProduct.category\">\r\n              </div>\r\n              <div class=\"mb-3 col-md-6\">\r\n                <label for=\"price\" class=\"form-label\">單位</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"unit\"\r\n                        placeholder=\"請輸入單位\" v-model=\"tempProduct.unit\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row gx-2\">\r\n              <div class=\"mb-3 col-md-6\">\r\n                <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                <input type=\"number\" class=\"form-control\" id=\"origin_price\"\r\n                        placeholder=\"請輸入原價\" v-model=\"tempProduct.origin_price\">\r\n              </div>\r\n              <div class=\"mb-3 col-md-6\">\r\n                <label for=\"price\" class=\"form-label\">售價</label>\r\n                <input type=\"number\" class=\"form-control\" id=\"price\"\r\n                        placeholder=\"請輸入售價\" v-model=\"tempProduct.price\">\r\n              </div>\r\n            </div>\r\n            <hr>\r\n\r\n            <div class=\"mb-3\">\r\n              <label for=\"description\" class=\"form-label\">產品描述</label>\r\n              <textarea type=\"text\" class=\"form-control\" id=\"description\"\r\n                        placeholder=\"請輸入產品描述\" v-model=\"tempProduct.description\"></textarea>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"content\" class=\"form-label\">說明內容</label>\r\n              <textarea type=\"text\" class=\"form-control\" id=\"content\"\r\n                        placeholder=\"請輸入產品說明內容\" v-model=\"tempProduct.content\"></textarea>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <div class=\"form-check text-start\">\r\n                <input class=\"form-check-input\" type=\"checkbox\"\r\n                        :true-value=\"1\"\r\n                        :false-value=\"0\"\r\n                        id=\"is_enabled\"\r\n                        v-model=\"tempProduct.is_enabled\">\r\n                <label class=\"form-check-label\" for=\"is_enabled\">\r\n                  是否啟用\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                data-bs-dismiss=\"modal\">取消\r\n        </button>\r\n        <button type=\"button\" class=\"btn btn-primary\"\r\n        @click=\"$emit('update-product',tempProduct)\">確認</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '../mixins/modalMixin'\r\n\r\nexport default {\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  mixins: [\r\n    modalMixin\r\n  ],\r\n  data () {\r\n    return {\r\n      modal: {},\r\n      tempProduct: {}\r\n    }\r\n  },\r\n  watch: {\r\n    product () {\r\n      this.tempProduct = this.product\r\n      // 多圖範例\r\n      if (!this.tempProduct.imagesUrl) {\r\n        this.tempProduct.imagesUrl = []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    uploadFile () {\r\n      const uploadFile = this.$refs.fileInput.files[0]\r\n      const formData = new FormData()\r\n      formData.append('file-to-upload', uploadFile)\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\r\n      this.$http.post(api, formData).then((res) => {\r\n        console.log(res.data)\r\n        if (res.data.success) {\r\n          this.tempProduct.imageUrl = res.data.imageUrl\r\n        }\r\n      })\r\n    },\r\n    uploadMore () {\r\n      const uploadFile = this.$refs.fileMore.files[0]\r\n      const formData = new FormData()\r\n      formData.append('file-to-upload', uploadFile)\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\r\n      this.$http.post(api, formData).then((res) => {\r\n        console.log(res.data)\r\n        if (res.data.success) {\r\n          this.tempProduct.imagesUrl.push(res.data.imageUrl)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductsModal.vue?vue&type=template&id=346e893c\"\nimport script from \"./ProductsModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\acerk\\\\Desktop\\\\Vue3_Project\\\\shopping\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=f9740678\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\acerk\\\\Desktop\\\\Vue3_Project\\\\shopping\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}