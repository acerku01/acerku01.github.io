(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fa5844e"],{c98b:function(t,e,i){"use strict";i.r(e);var c=i("7a23"),s=i("d176"),a=i.n(s);const o={class:"product_detail pages position-relative overflow-hidden"},r={class:"container position-relative z-index-1 box_"},l={class:"bread-crumbs py-3 px-lg-5"},n={itemscope:"",itemtype:"http://schema.org/breadcrumbList",id:"breadcrumbs"},p={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},b=Object(c["i"])("span",{itemprop:"name"},"首頁",-1),d=Object(c["i"])("meta",{itemprop:"position",content:"1"},null,-1),m={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},u=Object(c["i"])("span",{class:"mx-2"},"/",-1),h=Object(c["i"])("span",{itemprop:"name"},"商品介紹",-1),j=Object(c["i"])("meta",{itemprop:"position",content:"2"},null,-1),O={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},g=Object(c["i"])("span",{class:"mx-2"},"/",-1),v={itemprop:"name"},x=Object(c["i"])("meta",{itemprop:"position",content:"3"},null,-1),y={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},f=Object(c["i"])("span",{class:"mx-2"},"/",-1),w={itemprop:"name"},_=Object(c["i"])("meta",{itemprop:"position",content:"4"},null,-1),I={class:"main-box bg-white p-lg-5 px-4 py-4 mb-4"},L={action:"",method:"post"},k={class:"row"},q={class:"product-img col-lg-6 mb-4 mb-lg-0"},S={class:"show-box-wrap overflow-hidden position-relative"},$=["src"],T=["src"],U={class:"thumbsSlider_out position-relative mt-3 overflow-hidden"},P=["src"],C=["src"],D={class:"product-info col-lg mb-4 mb-lg-0 pl-lg-4"},R={class:"mb-4"},E={class:"info_box pt-4 pb-xl-5 pb-3 mb-2"},B=Object(c["i"])("div",{class:"price-box col-12 mb-4"},[Object(c["i"])("span",{class:"old-price me-3"},"原價 $ 150"),Object(c["i"])("span",null,[Object(c["l"])("限量優惠 $"),Object(c["i"])("span",{class:"price"},"250"),Object(c["l"])("元")])],-1),V={class:"row"},z={class:"col-sm-4 mb-4 mb-lg-1 pr-xl-4 pr-sm-0"},M={class:"count"},J={class:"row mx-0"},H=["disabled"],N={class:"col-sm mb-4 mb-lg-1 btn_box"},Z={class:"row mx-n2"},A={key:0,class:"spinner-border text-warning me-xl-2 me-1",role:"status"},F=Object(c["i"])("span",{class:"visually-hidden"},"Loading...",-1),G=[F],K={class:"main-box bg-white px-lg-5 px-4 pt-4 pb-2"},Q=Object(c["i"])("h4",{class:"text-center mb-4 pt-3"},[Object(c["i"])("span",null,"看看其它產品")],-1);function W(t,e,i,s,F,W){const X=Object(c["R"])("loading"),Y=Object(c["R"])("pagesBanner"),tt=Object(c["R"])("router-link"),et=Object(c["R"])("swiper-slide"),it=Object(c["R"])("swiper"),ct=Object(c["R"])("svg-icon"),st=Object(c["R"])("ProductList");return Object(c["I"])(),Object(c["h"])(c["a"],null,[Object(c["m"])(X,{active:F.isLoading},null,8,["active"]),Object(c["m"])(Y),Object(c["i"])("section",o,[Object(c["i"])("div",r,[Object(c["i"])("div",l,[Object(c["i"])("ol",n,[Object(c["i"])("li",p,[Object(c["m"])(tt,{to:"/index",itemprop:"item",title:"劉記花生"},{default:Object(c["eb"])(()=>[b]),_:1}),d]),Object(c["i"])("li",m,[u,Object(c["m"])(tt,{to:"/products",itemprop:"item",title:"商品介紹"},{default:Object(c["eb"])(()=>[h]),_:1}),j]),Object(c["i"])("li",O,[g,Object(c["m"])(tt,{to:"/products/"+F.product.category,itemprop:"item",title:F.product.category},{default:Object(c["eb"])(()=>[Object(c["i"])("span",v,Object(c["U"])(F.product.category),1)]),_:1},8,["to","title"]),x]),Object(c["i"])("li",y,[f,Object(c["m"])(tt,{to:"/product/"+F.product.id,itemprop:"item",title:F.product.title},{default:Object(c["eb"])(()=>[Object(c["i"])("span",w,Object(c["U"])(F.product.title),1)]),_:1},8,["to","title"]),_])])]),Object(c["i"])("div",I,[Object(c["i"])("form",L,[Object(c["i"])("div",k,[Object(c["i"])("div",q,[Object(c["i"])("div",S,[Object(c["m"])(it,{modules:[s.Thumbs],thumbs:{swiper:s.thumbsSwiper},spaceBetween:30},{default:Object(c["eb"])(()=>[Object(c["m"])(et,null,{default:Object(c["eb"])(()=>[Object(c["i"])("img",{src:F.product.imageUrl,class:"w-100"},null,8,$)]),_:1}),(Object(c["I"])(!0),Object(c["h"])(c["a"],null,Object(c["P"])(F.product.imagesUrl,t=>(Object(c["I"])(),Object(c["f"])(et,{key:t},{default:Object(c["eb"])(()=>[Object(c["i"])("img",{src:t,class:"w-100"},null,8,T)]),_:2},1024))),128))]),_:1},8,["modules","thumbs"])]),Object(c["i"])("div",U,[Object(c["m"])(it,{modules:[s.Thumbs],"watch-slides-progress":"",onSwiper:s.setThumbsSwiper,spaceBetween:10,slidesPerView:3},{default:Object(c["eb"])(()=>[Object(c["m"])(et,null,{default:Object(c["eb"])(()=>[Object(c["i"])("img",{src:F.product.imageUrl,class:"w-100"},null,8,P)]),_:1}),(Object(c["I"])(!0),Object(c["h"])(c["a"],null,Object(c["P"])(F.product.imagesUrl,t=>(Object(c["I"])(),Object(c["f"])(et,{key:t},{default:Object(c["eb"])(()=>[Object(c["i"])("img",{src:t,class:"w-100"},null,8,C)]),_:2},1024))),128))]),_:1},8,["modules","onSwiper"])])]),Object(c["i"])("div",D,[Object(c["i"])("h3",R,"【"+Object(c["U"])(F.product.title)+"】",1),Object(c["i"])("div",E,[Object(c["i"])("p",null,Object(c["U"])(F.product.description),1),Object(c["i"])("p",null,Object(c["U"])(F.product.content),1)]),B,Object(c["i"])("div",V,[Object(c["i"])("div",z,[Object(c["i"])("div",M,[Object(c["i"])("div",J,[Object(c["i"])("button",{class:"col-auto value-button decrease_ btn btn-primary",id:"",value:"Decrease Value",onClick:e[0]||(e[0]=Object(c["hb"])(t=>F.qty-=1,["prevent"])),disabled:1===F.qty},[Object(c["m"])(ct,{name:"less"})],8,H),Object(c["fb"])(Object(c["i"])("input",{class:"col qty px-1",min:"1",type:"number",onkeyup:"value=value.replace(/[^\\d]+/g,'')","onUpdate:modelValue":e[1]||(e[1]=t=>F.qty=t)},null,512),[[c["Z"],F.qty,void 0,{number:!0}]]),Object(c["i"])("button",{class:"col-auto value-button increase_",id:"",value:"Increase Value",onClick:e[2]||(e[2]=Object(c["hb"])(t=>F.qty+=1,["prevent"]))},[Object(c["m"])(ct,{name:"add"})])])])]),Object(c["i"])("div",N,[Object(c["i"])("div",Z,[Object(c["i"])("a",{href:"",class:Object(c["x"])(["col px-1 mx-2 btn btn-outline-primary d-flex align-items-center justify-content-center",{disabled:F.loadingItem}]),onClick:e[3]||(e[3]=Object(c["hb"])(t=>W.addCart(),["prevent"]))},[F.loadingItem?(Object(c["I"])(),Object(c["h"])("div",A,G)):Object(c["g"])("",!0),Object(c["i"])("img",{src:a.a,alt:"",class:Object(c["x"])(["svg me-xl-2 me-1",{"d-none":F.loadingItem}])},null,2),Object(c["l"])("加入購物車")],2),Object(c["i"])("button",{class:"btn btn-primary col px-1 mx-2",onClick:e[4]||(e[4]=Object(c["hb"])(t=>W.goCart(),["prevent"]))}," 直接購買 ")])])])])])])]),Object(c["i"])("div",K,[Q,Object(c["m"])(st,{list:F.other,page:F.currentPage,onPrdLink:W.changLink},null,8,["list","page","onPrdLink"])])])])],64)}i("14d9");var X=i("4da1"),Y=i("d15c"),tt=i("f754"),et=(i("41fa"),i("d037")),it=i("1c14"),ct=i("cfb9"),st={components:{pagesBanner:et["a"],Swiper:Y["a"],SwiperSlide:tt["a"],ProductList:it["a"]},data(){return{isLoading:!1,loadingItem:!1,product:{},id:"",other:[],qty:1,currentPage:1}},watch:{qty(){this.qty<1&&(this.qty=1)},id(){this.qty=1}},methods:{getData(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/hexacervue3/product/"+this.id;this.$http.get(t).then(t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product)})},getOther(){const t="https://vue3-course-api.hexschool.io/api/hexacervue3/products/all";this.$http.get(t).then(t=>{t.data.success&&(this.other=t.data.products,this.randomData())})},randomData(){var t=[],e=3;const i=this;for(var c=0;c<i.other.length;c++){var s=Math.floor(Math.random()*(i.other.length-c));t.push(i.other[s]),i.other[s]=i.other[i.other.length-c-1]}const a=[];t.forEach((t,i)=>{i%e===0&&a.push([]);const c=parseInt(i/e);a[c].push(t)}),this.other=a.slice(0,1)},simpleScrollTrigger(){this.gsap.from(".box_",{y:50,opacity:0,duration:1,delay:.5,scrollTrigger:{trigger:".box_",start:"top 90%"}})},changLink(t){this.id=t,this.getData(),this.getOther()},addCart(){this.loadingItem=!0;const t="https://vue3-course-api.hexschool.io/api/hexacervue3/cart",e={product_id:this.id,qty:this.qty};this.$http.post(t,{data:e}).then(t=>{t.data.success&&(this.loadingItem=!1,ct["a"].emit("getData"),this.$httpMessage(t,"加入購物車"))})},goCart(){const t="https://vue3-course-api.hexschool.io/api/hexacervue3/cart",e={product_id:this.id,qty:this.qty};this.$http.post(t,{data:e}).then(t=>{t.data.success&&(ct["a"].emit("getData"),this.$router.push("/cart"))})}},created(){this.id=this.$route.params.productId,this.getData(),this.getOther()},mounted(){this.simpleScrollTrigger()},setup(){const t=Object(c["N"])(null),e=e=>{t.value=e};return{Thumbs:X["c"],thumbsSwiper:t,setThumbsSwiper:e}}},at=i("6b0d"),ot=i.n(at);const rt=ot()(st,[["render",W]]);e["default"]=rt},d037:function(t,e,i){"use strict";var c=i("7a23");const s={class:"banner_page position-relative"},a={class:"container h-100 position-relative z-index-1"},o={class:"row h-100 mx-0 align-items-center"},r={key:0,class:"overflow-hidden px-lg-5 px-0"},l={class:"page-title box"};function n(t,e,i,n,p,b){return Object(c["I"])(),Object(c["h"])("section",s,[Object(c["i"])("div",{class:"top_img parallax","data-depth":"0.40",style:Object(c["z"])(`background-image: url(./img/${p.slide.photo})`),ref:"parallax"},null,4),Object(c["i"])("div",a,[Object(c["i"])("div",o,[p.slide?(Object(c["I"])(),Object(c["h"])("div",r,[Object(c["i"])("h2",l,"【 "+Object(c["U"])(p.slide.name)+" 】",1)])):Object(c["g"])("",!0)])])])}var p={data(){return{slide:{}}},methods:{simpleScrollTrigger(){const t=this.$refs.parallax.dataset.depth,e=-this.$refs.parallax.offsetHeight*t;this.gsap.to(".parallax",{y:e,ease:"none",scrollTrigger:{trigger:"body",start:"top",scrub:1}}),this.gsap.from(".box",{y:50,opacity:0,duration:1.5,scrollTrigger:{trigger:".box",start:"top 90%"}})}},mounted(){const t=this,e="./json/pagesBanner.json";this.$http.get(e).then(e=>{t.slide=e.data,t.slide.forEach((function(e){e.type===t.$route.name&&(t.slide=e)})),this.simpleScrollTrigger()})}},b=i("6b0d"),d=i.n(b);const m=d()(p,[["render",n]]);e["a"]=m}}]);
//# sourceMappingURL=chunk-1fa5844e.adb5367b.js.map